(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{459:function(s,n,t){"use strict";t.r(n);var a=t(24),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("hr"),s._v(" "),t("h2",{attrs:{id:"现象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#现象"}},[s._v("#")]),s._v(" 现象")]),s._v(" "),t("p",[s._v("umi项目启动时报错：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("PS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("xxx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" start:dev\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" run v1.22.10\n$ cross-env "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REACT_APP_ENV")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("local "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MOCK")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("none "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("UMI_ENV")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dev umi dev\nBundle with webpack "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nStarting the development server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nInvalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.\n - configuration"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" has an unknown property "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'experiments'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" These properties are valid:\n   object "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" amd?, bail?, cache?, context?, dependencies?, devServer?, devtool?, entry?, externals?, infrastructureLogging?, loader?, mode?, module?, name?, node?, optimization?, output?, parallelism?, performance?, plugins?, profile?, recordsInputPath?, recordsOutputPath?, recordsPath?, resolve?, resolveLoader?, serve?, stats?, target?, watch?, watchOptions? "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nWebpackOptionsValidationError: Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.\n - configuration"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" has an unknown property "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'experiments'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" These properties are valid:\n   object "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" amd?, bail?, cache?, context?, dependencies?, devServer?, devtool?, entry?, externals?, infrastructureLogging?, loader?, mode?, module?, name?, node?, optimization?, output?, parallelism?, performance?, plugins?, profile?, recordsInputPath?, recordsOutputPath?, recordsPath?, resolve?, resolveLoader?, serve?, stats?, target?, watch?, watchOptions? "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    at Object.webpack "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("xxx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("node_modules"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("@umijs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("deps"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("compiled"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("webpack"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bundle4.js:138983:9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at Bundler.setupDevServerOpts "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("xxx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("node_modules"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("@umijs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bundler-webpack"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("index.js:193:40"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("xxx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("node_modules"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("@umijs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("preset-built-in"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("plugins"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("commands"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev.js:300:30\n    at Generator.next "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("anonymous"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at asyncGeneratorStep "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("xxx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("node_modules"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("@umijs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("preset-built-in"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("plugins"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("commands"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev.js:74:103"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at _next "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("xxx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("node_modules"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("@umijs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("preset-built-in"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("plugins"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("commands"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev.js:76:194"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h2",{attrs:{id:"原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[s._v("#")]),s._v(" 原因")]),s._v(" "),t("p",[s._v("使用了webpack5的高版本umi(如3.5.7）的问题，")]),s._v(" "),t("h2",{attrs:{id:"解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决"}},[s._v("#")]),s._v(" 解决")]),s._v(" "),t("h3",{attrs:{id:"方案一"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案一"}},[s._v("#")]),s._v(" 方案一")]),s._v(" "),t("p",[s._v("感谢："),t("a",{attrs:{href:"https://blog.csdn.net/qq_39558062/article/details/118601340",target:"_blank",rel:"noopener noreferrer"}},[s._v("react umi项目运行报错"),t("OutboundLink")],1),s._v(" 提供的帮助")]),s._v(" "),t("blockquote",[t("p",[s._v("降低版本后可行")])]),s._v(" "),t("p",[s._v("项目中package.json中umi包版本如下：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('"dependencies": {\n  //```\n  "umi": "^3.4.1",\n  //···\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("去掉"),t("code",[s._v("^")]),s._v("\n重新装包"),t("code",[s._v("yarn")]),s._v("或"),t("code",[s._v("yarn install")]),s._v("\n重新启动项目")]),s._v(" "),t("p",[s._v("报错"),t("code",[s._v("Cannot find module 'webpack/lib/ModuleFilenameHelpers'")]),s._v(":")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Error: Cannot find module 'webpack/lib/ModuleFilenameHelpers'\nRequire stack:\n- C:\\xxx\\node_modules\\esbuild-loader\\dist\\minify-plugin.js\n- C:\\xxx\\node_modules\\esbuild-loader\\dist\\index.js\n- C:\\xxx\\node_modules\\@umijs\\plugin-esbuild\\lib\\index.js\n- C:\\xxx\\node_modules\\@umijs\\core\\lib\\Service\\utils\\pluginUtils.js        \n- C:\\xxx\\node_modules\\@umijs\\core\\lib\\Service\\Service.js\n- C:\\xxx\\node_modules\\@umijs\\core\\lib\\index.js\n- C:\\xxx\\node_modules\\umi\\lib\\ServiceWithBuiltIn.js\n- C:\\xxx\\node_modules\\umi\\lib\\forkedDev.js\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:941:15)\n    at Function.mod._resolveFilename (C:\\xxx\\node_modules\\@umijs\\bundler-webpack\\lib\\requireHook.js:49:28)\n    at Function.Module._load (node:internal/modules/cjs/loader:774:27)\n    at Module.require (node:internal/modules/cjs/loader:1013:19)\n    at require (node:internal/modules/cjs/helpers:93:18)\nplugin.js:8:33)\n    at Module._compile (node:internal/modules/cjs/loader:1109:14)\n    at Module._compile (C:\\xxx\\node_modules\\@umijs\\deps\\compiled\\babel\\bun    at Module._extensions..js (node:internal/modules/cjs/loader:1138:10)\n    at Object.newLoader [as .js] (C:\\xxx\\node_modules\\@umijs\\deps\\compiled\\babel\\bundle.js:146843:7)\n    at Module.load (node:internal/modules/cjs/loader:989:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:829:14)\n    at Module.require (node:internal/modules/cjs/loader:1013:19)\n    at require (node:internal/modules/cjs/helpers:93:18)\n    at Object.<anonymous> (C:\\xxx\\node_modules\\esbuild-loader\\dist\\index.js:10:41)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("p",[s._v("运行"),t("code",[s._v("npm link webpack")]),s._v("解决")]),s._v(" "),t("h3",{attrs:{id:"方案二"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案二"}},[s._v("#")]),s._v(" 方案二")]),s._v(" "),t("p",[s._v("全局搜索并去掉项目中的"),t("code",[s._v("webpack5")]),s._v("配置项")]),s._v(" "),t("h3",{attrs:{id:"方案三"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案三"}},[s._v("#")]),s._v(" 方案三")]),s._v(" "),t("p",[s._v("低版本umi的同学提交一下"),t("code",[s._v("yarn.lock")]),s._v("文件，新装同学重新"),t("code",[s._v("yarn install")])]),s._v(" "),t("hr"),s._v(" "),t("blockquote",[t("p",[s._v("记录于 "),t("a",{attrs:{href:"https://i.cnblogs.com/posts/edit;postId=15118258",target:"_blank",rel:"noopener noreferrer"}},[s._v("cnblogs 2021-08-09"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);n.default=e.exports}}]);